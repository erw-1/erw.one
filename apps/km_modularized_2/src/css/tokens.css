/* ---------------------------------------------------------------------------
   1. TOKENS: Variables for everything 
   ------------------------------------------------------------------------ */
@layer tokens {
  :root {
    /* ===== Core colours (6 hexes) ===== */
    --color-main: rgb(29, 29, 29); /* page background        */
    --color-accent: #3fabd1; /* links, active UI       */
    --color-shadow: rgb(0, 0, 0); /* backdrop and shadows   */

    /* ===== Derived shades (no new hex codes) ===== */
    --color-text: color(
      from var(--color-main) display-p3 calc(1 - r) calc(1 - g) calc(1 - b)
    );
    --color-backdrop: color-mix(in srgb, var(--color-main) 80%, transparent);
    --color-lowest-contrast: color-mix(
      in srgb,
      var(--color-text) 6%,
      var(--color-main)
    );
    --color-low-contrast: color-mix(
      in srgb,
      var(--color-text) 12%,
      var(--color-main)
    );
    --color-quarter-contrast: color-mix(
      in srgb,
      var(--color-text) 25%,
      var(--color-main)
    );
    --color-mid-contrast: color-mix(
      in srgb,
      var(--color-text) 65%,
      var(--color-main)
    );
    --color-accent-quarter: color-mix(
      in srgb,
      var(--color-accent) 25%,
      var(--color-quarter-contrast)
    );
    --color-accent-mid: color-mix(
      in srgb,
      var(--color-accent) 50%,
      var(--color-quarter-contrast)
    );
    --color-accent-3quarter: color-mix(
      in srgb,
      var(--color-accent) 75%,
      var(--color-quarter-contrast)
    );

    /* ===== Alerts ===== */
    --important: #8c88e5;
    --note: #30b1ea;
    --tip: #59c335;
    --warning: #ddaa26;
    --caution: #f87171;

    /* ===== Radii & rhythm ===== */
    --r-sm: 4px; /*  for content blocks */
    --r-md: 8px; /*  for UI blocks      */

    --g-xs: 0.15rem;
    --g-sm: 0.3rem;
    --g-md: 0.6rem;
    --g-lg: 1.2rem;

    /* ===== Layout constants ===== */
    --w-sidebar: 290px;
    --w-util: 290px;
    --h-header: 48px;

    /* ===== Z-levels ===== */
    --z-ground: 2;
    --z-mid: 3;
    --z-sky: 4;
  }
}
