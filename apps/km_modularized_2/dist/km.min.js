var T=document,Ce=T.getElementById("km-config"),ut=Ce&&JSON.parse(Ce.textContent||"{}")||{},{TITLE:ue="Wiki",MD:V="",LANGS:X=[],DEFAULT_THEME:Q,ACCENT:Z,ALLOW_JS_FROM_MD:Me,CACHE_MD:ht}=ut,ee=Number(ht)||0,Te=e=>`km:md:v2:${e}`;function Se(e){try{let t=localStorage.getItem(Te(e));if(!t)return null;let n=JSON.parse(t);return n&&"number"==typeof n.ts&&"string"==typeof n.txt?n:null}catch{return null}}function _e(e,t){try{localStorage.setItem(Te(e),JSON.stringify({ts:Date.now(),txt:t}))}catch{}}var Ae=/^(?:```|~~~)/,He=/^(#{1,6})\s+/,$e=/^(#{1,6})\s+(.+)/,G="h1, h2, h3, h4, h5, h6";window.KM=window.KM||{};var ft=window.KM,Ie=window.innerWidth,Oe=window.innerHeight,y=(e,t=T)=>t.querySelector(e),$=(e,t=T)=>[...t.querySelectorAll(e)];function w(e,t={},n=[]){let r=T.createElement(e);for(let e in t){let n=t[e];"class"===e||"className"===e?r.className=n:"dataset"===e?Object.assign(r.dataset,n):e in r?r[e]=n:r.setAttribute(e,n)}if(null!=n){let e=Array.isArray(n)?n:[n];e.length&&r.append(...e)}return r}Object.assign(ft,{$:y,$$:$,DEBUG:!1});var K=()=>location.href.replace(/#.*$/,"");function he(){Ie=window.innerWidth,Oe=window.innerHeight}var Pe=()=>({__VPW:Ie,__VPH:Oe});async function fe(e,t){try{await navigator.clipboard.writeText(e)}catch{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch{}t.remove()}finally{t&&(t.classList.add("flash"),setTimeout(()=>t.classList.remove("flash"),300))}}var pt={link:"M3.9 12c0-1.7 1.4-3.1 3.1-3.1h5.4v-2H7c-2.8 0-5 2.2-5 5s2.2 5 5 5h5.4v-2H7c-1.7 0-3.1-1.4-3.1-3.1zm5.4 1h6.4v-2H9.3v2zm9.7-8h-5.4v2H19c1.7 0 3.1 1.4 3.1 3.1s-1.4 3.1-3.1 3.1h-5.4v2H19c2.8 0 5-2.2 5-5s-2.2-5-5-5z",code:"M19,21H5c-1.1,0-2-0.9-2-2V7h2v12h14V21z M21,3H9C7.9,3,7,3.9,7,5v12 c0,1.1,0.9,2,2,2h12c2.2,0,2-2,2-2V5C23,3.9,22.1,3,21,3z M21,17H9V5h12V17z"},pe=(e,t,n,r)=>w("button",{type:"button",class:n,title:e,"aria-label":e,...r&&{onclick:r},innerHTML:`<svg width="14" height="14" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="${t}"></path></svg>`}),me=pt,R=[],W=new Map,j=null,te=new Map,mt=40,D=new Map;function Re(e){R=[],W=new Map,j=null,te.clear(),D.clear();let t=e.matchAll(/<!--([\s\S]*?)-->\s*([\s\S]*?)(?=<!--|$)/g);for(let[,e,n]of t){let t={};e.replace(/(\w+):"([^"]+)"/g,(e,n,r)=>t[n]=r.trim());let r={...t,content:(n||"").trim(),children:[]};R.push(r),W.set(r.id,r)}if(!R.length)throw Error("No pages parsed from MD bundle.");j=W.get("home")||R[0],R.forEach(e=>{if(e!==j){let t=W.get((e.parent||"").trim());e.parent=t||null,t&&t.children.push(e)}else e.parent=null;e.tagsSet=new Set((e.tags||"").split(",").map(e=>e.trim()).filter(Boolean)),e.titleL=(e.title||"").toLowerCase(),e.tagsL=[...e.tagsSet].join(" ").toLowerCase(),e.bodyL=(e.content||"").toLowerCase(),e.searchStr=e.titleL+" "+e.tagsL+" "+e.bodyL}),R.forEach(e=>{let t=[0,0,0,0,0,0],n=[],r=!1,i=0,a=null;for(let l of e.content.split(/\r?\n/)){if(Ae.test(l)&&(r=!r),!r&&He.test(l)){a&&(a.body=e.content.slice(a.bodyStart,i).trim(),a.search=(a.txt+" "+a.body).toLowerCase(),n.push(a));let[,r,s]=l.match($e),o=r.length-1;t[o]++;for(let e=o+1;e<6;e++)t[e]=0;a={id:t.slice(0,o+1).filter(Boolean).join("_"),txt:s.trim(),bodyStart:i+l.length+1}}i+=l.length+1}a&&(a.body=e.content.slice(a.bodyStart).trim(),a.search=(a.txt+" "+a.body).toLowerCase(),n.push(a)),e.sections=n})}function ne(e){if(te.has(e))return te.get(e);let t=0;return function e(n){n.children.forEach(n=>{t++,e(n)})}(e),te.set(e,t),t}function De(){let e=e=>{for(;e.parent;)e=e.parent;return e},t=new Map;for(let n of R){let r=e(n);r!==j&&(t.has(r)||t.set(r,[]),t.get(r).push(n))}let n=0;for(let[,e]of t){let t=e.reduce((e,t)=>ne(t)>ne(e)?t:e,e[0]);t.parent||(t.parent=j,t.isSecondary=!0,t.clusterId=n++,j.children.push(t))}}function Be(){R.forEach(e=>{let t=[];for(let n=e;n&&n.parent;n=n.parent)t.unshift(n.id);e.hash=t.join("#")})}var _=e=>e?.hash??"",re=e=>{let t=j;for(let n of e){let e=t.children.find(e=>e.id===n);if(!e)break;t=e}return t};function gt(e){e&&(location.hash="#"+_(e))}function Ne(e){if(!D.has(e))return null;let t=D.get(e);return D.delete(e),D.set(e,t),t}function Ke(e,t){if(D.set(e,t),D.size>mt){let e=D.keys().next().value;D.delete(e)}}window.KM.nav=gt;var yt=new Intl.Collator(void 0,{sensitivity:"base"}),je=(e,t)=>yt.compare(e.title,t.title),I={get pages(){return R},get root(){return j},get byId(){return W}},ge=new WeakMap;function ye(e,t=document){if(!e||"function"!=typeof e.disconnect)return e;let n=ge.get(t)||new Set;return n.add(e),ge.set(t,n),e}function oe(e=document){let t=ge.get(e);if(t){for(let e of t)try{e.disconnect?.()}catch{}t.clear()}}async function se(e){let t=Ne(e.id);if(t)return t;let{parse:n}=await window.KM.ensureMarkdown(),r=n(e.content),i=T.createElement("div");i.innerHTML=r,bt(i);let a=i.innerHTML;return Ke(e.id,a),a}function qe(e=T){$('a[href^="http"]',e).forEach(e=>{try{if(new URL(e.href,location.href).origin!==location.origin){e.target="_blank";let t=(e.getAttribute("rel")||"").split(/\s+/);t.includes("noopener")||t.push("noopener"),t.includes("noreferrer")||t.push("noreferrer"),e.setAttribute("rel",t.join(" ").trim())}}catch{}})}function ie(e=y("#content"),t,{onlyFootnotes:n=!1}={}){let r=t?.hash||"";r&&$('a[href^="#"]',e).forEach(e=>{let t=e.getAttribute("href")||"";if(t){if(n)return void(/^#(?:fn|footnote)/.test(t)&&!t.includes(r+"#")&&e.setAttribute("href",`#${r}${t}`));try{let n=window.location.href.replace(/#.*$/,"")+t;new URL(n),t.slice(1).includes("#")||e.setAttribute("href",`#${r}${t}`)}catch{}}})}function Ue(e=y("#content")){if(!e)return;let t=0,n=Date.now().toString(36);e.querySelectorAll('a[href^="#"]').forEach(e=>{window.KM.isInternalPageLink?.(e)&&(e.classList.add("km-has-preview"),e.dataset.preview="1",e.id||(e.id=`km-prev-${n}-${t++}`),e.title||(e.title="Preview on hover"))})}function bt(e){let t=[0,0,0,0,0,0,0];$(G,e).forEach(e=>{if(e.id)return;let n=+e.tagName[1]-1;t[n]++;for(let e=n+1;e<7;e++)t[e]=0;e.id=t.slice(0,n+1).filter(Boolean).join("_")})}async function Fe(e=document){await window.KM.ensureHighlight();let t=[...e.querySelectorAll("pre code")];if(!t.length)return;let n=ye(new IntersectionObserver((e,t)=>{for(let n of e){if(!n.isIntersecting)continue;let e=n.target;e.dataset.hlDone||(window.hljs.highlightElement(e),e.dataset.hlDone="1"),t.unobserve(e)}},{rootMargin:"200px 0px",threshold:0}),e);t.forEach(e=>{e.dataset.hlDone||n.observe(e)})}function ze(e,t=T){$(G,t).forEach(e=>{if("1"===e.dataset.kmHeadDone)return;e.dataset.kmHeadDone="1";let t=w("span",{class:"heading-tools"},pe("Copy link",me.link,"heading-copy"));e.append(t)})}function Ge(e=T){e.querySelectorAll("pre").forEach(e=>{if("1"===e.dataset.kmCodeDone)return;e.dataset.kmCodeDone="1";let t=e.querySelector("code"),n=w("div",{class:"code-tools"},pe("Copy code",me.code,"code-copy")),r=t?.className?.match(/\blanguage-([\w-]+)/)?.[1];r&&n.prepend(w("span",{class:"lang",textContent:r})),e.prepend(n)})}function Ve(e=T){try{if(!e||"1"===e.dataset.mathRendered)return;"function"==typeof window.renderMathInElement&&(window.renderMathInElement(e,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]}),e.dataset.mathRendered="1")}catch{}}function ae(e,t){e&&e.addEventListener("click",e=>{let n=e.target?.closest?.("button.heading-copy, button.code-copy");if(n)if(n.classList.contains("heading-copy")){let e=n.closest(G);if(!e)return;fe((t()||K()+"#")+e.id,n)}else{let e=n.closest("pre"),t=e?.querySelector("code");fe(t?t.innerText:e?.innerText||"",n)}})}var q=window.KM=window.KM||{},U={current:"node_current",parent:"node_parent",leaf:"node_leaf",hierPRE:"link_hier",tagPRE:"link_tag",label:"graph_text"},A={},We=-1;function Ye(){let e=y("#mini");if(!e)return{w:400,h:300};if(e.classList.contains("fullscreen"))return{w:innerWidth,h:innerHeight};let t=e.getBoundingClientRect();return{w:Math.max(1,0|t.width),h:Math.max(1,0|t.height)}}var Je=0;function J(){if(!A.mini)return;let{svg:e,sim:t}=A.mini,n=Ye(),{w:r,h:i}=n.w&&n.h?n:{w:1,h:1};A.mini.w=r,A.mini.h=i,e.attr("viewBox",`0 0 ${r} ${i}`).attr("width",r).attr("height",i).attr("preserveAspectRatio","xMidYMid meet"),t.force("center",q.d3.forceCenter(r/2,i/2)),clearTimeout(Je),Je=setTimeout(()=>{wt(),t.alpha(.35).restart(),requestAnimationFrame(()=>O(!0))},60)}function wt(){if(!A.mini)return;let{sim:e,view:t,w:n,h:r}=A.mini,i=e.nodes();if(!i.length)return;let a=0,l=0;for(let e of i)a+=e.x,l+=e.y;let s=n/2-a/i.length,o=r/2-l/i.length;for(let e of(t.attr("transform","translate(0,0)"),i))e.x+=s,e.y+=o}function xt(){let{pages:e,root:t}=I,n=[],r=[],i=new Map,a=new Set,l=(e,t)=>{(i.get(e)||i.set(e,new Set).get(e)).add(t),(i.get(t)||i.set(t,new Set).get(t)).add(e)},s=e=>e<3?1:e<6?2:e<11?3:e<21?4:5;e.forEach((e,t)=>{e._i=t,n.push({id:t,label:e.title,ref:e})}),e.forEach(e=>{if(!e.parent||e.isSecondary&&e.parent===t)return;let n=e._i,i=e.parent._i,o=n<i?`${n}|${i}`:`${i}|${n}`;r.push({source:n,target:i,shared:0,kind:"hier",tier:s(ne(e))}),a.add(o),l(n,i)});let o=new Map;e.forEach(e=>{for(let t of e.tagsSet)o.has(t)||o.set(t,[]),o.get(t).push(e._i)});let c=new Map;for(let e of o.values()){let t=e.slice(0,80);for(let e=0;e<t.length;e++)for(let n=e+1;n<t.length;n++){let r=t[e],i=t[n],a=r<i?`${r}|${i}`:`${i}|${r}`;c.set(a,(c.get(a)||0)+1)}}for(let[e,t]of c){if(t<2||a.has(e))continue;let[n,i]=e.split("|").map(Number);r.push({source:n,target:i,shared:t,kind:"tag"}),l(n,i)}return{nodes:n,links:r,adj:i}}async function Xe(){if(await q.ensureD3(),A.mini)return;let{nodes:e,links:t,adj:n}=xt(),r=q.d3.select("#mini"),{w:i,h:a}=Ye();r.attr("viewBox",`0 0 ${i} ${a}`).attr("width",i).attr("height",a).attr("preserveAspectRatio","xMidYMid meet");let l=e.map(e=>({...e})),s=t.map(e=>({...e})),o=q.d3.forceSimulation(l).force("link",q.d3.forceLink(s).id(e=>e.id).distance(80)).force("charge",q.d3.forceManyBody().strength(-240)).force("center",q.d3.forceCenter(i/2,a/2)),c=r.append("g").attr("class","view"),d=c.append("g").selectAll("line").data(s).join("line").attr("id",e=>"hier"===e.kind?U.hierPRE+e.tier:U.tagPRE+Math.min(e.shared,5)),u=c.append("g").selectAll("circle").data(l).join("circle").attr("r",6).attr("id",e=>e.ref.children.length?U.parent:U.leaf).on("click",(e,t)=>window.KM.nav(t.ref)).on("mouseover",(e,t)=>p(t.id,.15)).on("mouseout",()=>p(null,1)).call(q.d3.drag().on("start",(e,t)=>{t.fx=t.x,t.fy=t.y}).on("drag",(e,t)=>{o.alphaTarget(.25).restart(),t.fx=e.x,t.fy=e.y}).on("end",(e,t)=>{e.active||o.alphaTarget(0),t.fx=t.fy=null})),h=c.append("g").selectAll("text").data(l).join("text").attr("id",U.label).attr("font-size",10).attr("pointer-events","none").text(e=>e.label);function p(e,t){u.style("opacity",n=>null==e||A.mini.adj.get(e)?.has(n.id)||n.id===e?1:t),h.style("opacity",n=>null==e||A.mini.adj.get(e)?.has(n.id)||n.id===e?1:t),d.style("opacity",n=>null==e||n.source.id===e||n.target.id===e?1:t)}o.on("tick",()=>{d.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y),u.attr("cx",e=>e.x).attr("cy",e=>e.y),h.attr("x",e=>e.x+8).attr("y",e=>e.y+3)}),A.mini={svg:r,node:u,label:h,sim:o,view:c,adj:n,w:i,h:a},vt()}function O(e=!1){if(!A.mini)return;let t=re(location.hash.slice(1).split("#").filter(Boolean))?._i??-1;if(t===We&&!e)return;let n=A.mini;n.node.attr("id",e=>e.id===t?U.current:e.ref.children.length?U.parent:U.leaf).attr("r",e=>e.id===t?8:6),n.label.classed("current",e=>e.id===t);let r=n.w/2,i=n.h/2;n.node.filter(e=>e.id===t).each(e=>{let t=r-e.x,a=i-e.y;n.view.attr("transform",`translate(${t},${a})`),e.vx+=.1*(r-e.x),e.vy+=.1*(i-e.y)}),n.sim.alphaTarget(.15).restart(),setTimeout(()=>n.sim.alphaTarget(0),250),We=t}function vt(){let e=y("#mini");e&&new ResizeObserver(()=>{A.mini&&(J(),O(!0))}).observe(e)}var Qe=null,ce=(e,t="")=>{let n=_(e)||"",r=K()+"#"+n;return t?r+(n?"#":"")+t:n?r+"#":r};async function kt(e,t){let n=y("#content");n&&(oe(),n.dataset.mathRendered="0",n.innerHTML=await se(e),"true"===Me&&n.querySelectorAll("script").forEach(e=>{let t=document.createElement("script");for(let{name:n,value:r}of[...e.attributes])t.setAttribute(n,r);t.textContent=e.textContent||"",e.replaceWith(t)}),await we(n,e),nt(e),rt(e),ot(e),Ze(t))}function Y(e=location.hash){let{root:t}=I,n=(e||"").startsWith("#")?e:new URL(e||"",location.href).hash;if(""===n)return{page:t,anchor:""};let r=(n||"").slice(1).split("#").filter(Boolean),i=r.length?re(r):t,a=_(i),l=a?a.split("#"):[];return r.length&&!l.length?{page:t,anchor:r.join("#")}:{page:i,anchor:r.slice(l.length).join("#")}}function Lt(){(document.scrollingElement||document.documentElement).scrollTop=0,document.getElementById("content")?.scrollTo?.(0,0)}function Ze(e){if(!e)return;let t=T.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}function be(){B();let e=Y(location.hash)??{page:I.root,anchor:""},t=e.page,n=e.anchor;if(Qe!==t)Qe=t,tt(t),kt(t,n),O(!0),et(t),n||requestAnimationFrame(()=>Lt());else if(n){Ze(n);let e=y(`#toc li[data-hid="${n}"] > a`);e&&(y("#toc .toc-current")?.classList.remove("toc-current"),e.classList.add("toc-current"))}}async function we(e,t){qe(e),$("img",e).forEach((e,t)=>{e.loading="lazy",e.decoding="async",!e.hasAttribute("fetchpriority")&&t<2&&e.setAttribute("fetchpriority","high")}),ie(e,t,{onlyFootnotes:!0}),Ue(e),Fe(e),KM.ensureMarkdown().then(({renderMermaidLazy:t})=>t(e)),/(\$[^$]+\$|\\\(|\\\[)/.test(t.content)&&ye(new IntersectionObserver((t,n)=>{t.some(e=>e.isIntersecting)&&(KM.ensureKatex().then(()=>Ve(e)),n.disconnect())},{root:null,rootMargin:"200px 0px",threshold:0}),e).observe(e),ze(t,e),Ge(e)}function B(){y("#sidebar")?.classList.remove("open"),y("#util")?.classList.remove("open")}function ve(e,t){if(!e)return;e.classList.toggle("open",!!t),e.setAttribute("aria-expanded",String(!!t));let n=e.querySelector("button.caret");n&&(n.setAttribute("aria-expanded",String(!!t)),n.setAttribute("aria-label",t?"Collapse":"Expand"));let r=e.querySelector('ul[role="group"]');r&&(r.style.display=t?"block":"none")}function st(){let e=y("#tree"),{root:t}=I;if(!e||!t)return;e.setAttribute("role","tree"),e.innerHTML="";let n=t.children.filter(e=>!e.isSecondary),r=t.children.filter(e=>e.isSecondary).sort((e,t)=>e.clusterId-t.clusterId),i=(e,t,n=0)=>{e.forEach(e=>{let r=w("li");if(r.setAttribute("role","treeitem"),e.children.length){let a=n<2;r.className="folder"+(a?" open":""),r.setAttribute("aria-expanded",String(a));let l=`group-${e.id}`,s=w("button",{type:"button",class:"caret","aria-controls":l,"aria-expanded":String(a),"aria-label":a?"Collapse":"Expand",textContent:"▸"}),o=w("a",{class:"lbl",dataset:{page:e.id},href:"#"+_(e),textContent:e.title}),c=w("ul",{id:l,role:"group",style:"display:"+(a?"block":"none")});r.append(s,o,c),t.append(r),i(e.children,c,n+1)}else r.className="article",r.append(w("a",{dataset:{page:e.id},href:"#"+_(e),textContent:e.title})),t.append(r)})},a=T.createDocumentFragment();i(n,a),r.forEach(e=>{let t=w("div",{class:"group-sep",role:"presentation","aria-hidden":"true"},[w("hr",{role:"presentation","aria-hidden":"true"})]);a.append(t),i([e],a)}),e.append(a)}function et(e){let t=y("#tree");if(!t||!e)return;t.querySelectorAll(".sidebar-current").forEach(e=>e.classList.remove("sidebar-current"));let n=t.querySelector(`a[data-page="${e.id}"]`);if(!n)return;n.classList.add("sidebar-current");let r=n.closest("li");for(;r;)r.classList.contains("folder")&&ve(r,!0),r=r.parentElement?.closest?.("li")||null;let i=y("#tree");if(i){let e=n.getBoundingClientRect(),t=i.getBoundingClientRect();requestAnimationFrame(()=>{(e.top<t.top||e.bottom>t.bottom)&&n.scrollIntoView({block:"nearest"})})}}function tt(e){let t=y("#crumb-dyn");if(!t)return;t.innerHTML="";let n=[];for(let t=e;t;t=t.parent)n.unshift(t);if(n.length&&n.shift(),n.forEach((n,r)=>{r&&t.insertAdjacentHTML("beforeend",'<span class="separator">▸</span>');let i=w("span",{class:"dropdown"}),a=w("a",{textContent:n.title,href:"#"+n.hash});n===e&&(a.className="crumb-current"),i.append(a);let l=n.parent.children.filter(e=>e!==n);if(l.length){let e=w("ul");l.forEach(t=>e.append(w("li",{textContent:t.title,onclick:()=>KM.nav(t)}))),i.append(e)}t.append(i)}),e.children.length){let n=w("span",{class:"childbox"},[w("span",{class:"toggle",textContent:"▾"}),w("ul")]),r=n.querySelector("ul");e.children.slice().sort((e,t)=>e.title.localeCompare(t.title)).forEach(e=>r.append(w("li",{textContent:e.title,onclick:()=>KM.nav(e)}))),t.append(n)}}var xe=null;function nt(e){let t=y("#toc");if(!t)return;t.innerHTML="";let n=$("#content "+G);if(!n.length)return;let r=w("ul");n.forEach(t=>{let n=t.id||"",i=Math.min(6,Math.max(1,parseInt(t.tagName.slice(1),10)||1)),a=w("li",{"data-hid":n,"data-lvl":String(i)},[w("a",{href:"#"+(e.hash?e.hash+"#":"")+n,textContent:t.textContent||""})]);r.append(a)}),t.append(r),xe?.disconnect?.(),xe=new IntersectionObserver(e=>{e.forEach(e=>{if(!e.isIntersecting)return;let t=y(`#toc li[data-hid="${e.target.id}"] > a`);t&&(y("#toc .toc-current")?.classList.remove("toc-current"),t.classList.add("toc-current"))})},{root:null,rootMargin:"0px 0px -70% 0px",threshold:0}),n.forEach(e=>xe.observe(e))}function rt(e){let t=y("#prevnext");if(!t)return;let n=e.parent?e.parent.children.slice():[],r=n.indexOf(e),i=r>0?n[r-1]:null,a=r>=0&&r<n.length-1?n[r+1]:null;t.innerHTML="",i&&t.append(w("a",{href:"#"+_(i),class:"prev",textContent:"← "+i.title})),a&&t.append(w("a",{href:"#"+_(a),class:"next",textContent:a.title+" →"}))}function ot(e){let t=y("#seealso");if(!t)return;t.innerHTML="";let n=e.tagsSet||new Set;n.size&&I.pages.filter(t=>t!==e&&t.parent!==e.parent&&[...t.tagsSet].some(e=>n.has(e))).slice(0,6).forEach(e=>t.append(w("a",{href:"#"+_(e),textContent:e.title})))}function it(){let e,t=[],n=null,r=null;function i(){n&&clearTimeout(n),r&&(r.style.cursor="",delete r.dataset.previewPending),n=null,r=null}function a(e,t){let n=t.getBoundingClientRect(),{__VPW:r,__VPH:i}=Pe(),a=e.el,l=Math.max(1,a.offsetWidth||1),s=Math.max(1,a.offsetHeight||1),o=n.right+8+l<=r?Math.min(n.right+8,r-l-8):Math.max(8,n.left-8-l),c=Math.min(Math.max(8,n.top),Math.max(8,i-s-8));Object.assign(e.el.style,{left:o+"px",top:c+"px"})}function l(e=0){for(let n=t.length-1;n>=e;n--){let e=t[n];clearTimeout(e.timer),oe(e.el),e.el.remove(),t.pop()}}function s(){clearTimeout(e),e=setTimeout(()=>{(function(){if(Array.from(document.querySelectorAll(".km-link-preview")).some(e=>e.matches(":hover")))return!0;let e=document.activeElement;return!!(e&&e.closest&&window.KM.isInternalPageLink?.(e.closest('a[href^="#"]')))||t.some(e=>e.link&&e.link.matches(":hover"))})()||l(0)},220)}async function o(n){var r;let i=Y(n.getAttribute("href")||"");if(!i)return;let s=t.findIndex(e=>e.link===n);if(s>=0){let e=t[s];return clearTimeout(e.timer),void a(e,n)}let o,c,u,h,p,m=(r=n,o=w("div",{class:"km-link-preview",role:"dialog","aria-label":"Preview"}),c=w("header",{},[w("button",{type:"button",class:"km-preview-close",title:"Close","aria-label":"Close",innerHTML:"✕"})]),u=w("div"),o.append(c,u),document.body.appendChild(o),h={el:o,body:u,link:r,timer:null},p=t.push(h)-1,o.addEventListener("mouseenter",()=>{clearTimeout(h.timer),clearTimeout(e)},{passive:!0}),o.addEventListener("mouseleave",e=>{let t=e.relatedTarget;t&&t.closest&&t.closest(".km-link-preview")||(h.timer=setTimeout(()=>{l(p)},240))},{passive:!0}),c.querySelector("button").addEventListener("click",()=>l(p)),o.addEventListener("mouseover",e=>d(e),!0),o.addEventListener("focusin",e=>d(e),!0),a(h,r),ae(h.el,()=>{let e=Y(h.link.getAttribute("href")||"");return ce(e?.page,"")||K()+"#"}),h);t.forEach(e=>clearTimeout(e.timer)),await async function(e,t,n){var r;if(e.body.dataset.mathRendered="0",e.body.innerHTML=await se(t),r=t,ie(e.body,r),await we(e.body,t),n){let t=e.el;await new Promise(e=>requestAnimationFrame(()=>requestAnimationFrame(e)));let r=e.body.querySelector("#"+CSS.escape(n));if(r){let e=t.querySelector("header"),n=e?e.offsetHeight:0,i=t.getBoundingClientRect(),a=r.getBoundingClientRect().top-i.top+t.scrollTop;t.scrollTo({top:Math.max(0,a-n-6),behavior:"auto"}),r.classList.add("km-preview-focus")}}}(m,i.page,i.anchor)}function c(e){return!!Y(e?.getAttribute("href")||"")}function d(e){let t=e.target?.closest?.('a[href^="#"]');if(t&&c(t)){if("focusin"===e.type)return i(),void o(t);r!==t&&i(),r=t,t.dataset.previewPending="1",t.style.cursor="progress",i(),r=t,t.dataset.previewPending="1",t.style.cursor="progress",n=setTimeout(()=>{t.style.cursor="",delete t.dataset.previewPending,o(t),n=null,r=null},500),t.addEventListener("mouseleave",i,{once:!0}),t.addEventListener("blur",i,{once:!0})}}window.KM.isInternalPageLink=c;let u=y("#content");u&&"1"!==u.dataset.kmPreviewsBound&&(u.dataset.kmPreviewsBound="1",u.addEventListener("mouseover",d,!0),u.addEventListener("focusin",d,!0),u.addEventListener("mouseout",e=>{let t=e.relatedTarget;!e.target?.closest?.('a[href^="#"]')||t&&t.closest&&t.closest('a[href^="#"]')||i(),t&&t.closest&&t.closest(".km-link-preview")||s()},!0),addEventListener("hashchange",()=>{i(),l(0)},{passive:!0}),addEventListener("scroll",()=>{i(),s()},{passive:!0}))}function at(){let e=y("#search"),t=y("#theme-toggle"),n=y("#expand"),r=(e,t)=>e.key===t||e.key.toLowerCase()===(t+"").toLowerCase(),i=(e,t)=>t.some(t=>r(e,t)),a=e=>e.ctrlKey||e.metaKey,l=e=>!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey),s={focusSearch:()=>e?.focus(),toggleTheme:()=>t?.click(),toggleSidebar:()=>window.__kmToggleSidebar?.(),toggleUtil:()=>window.__kmToggleUtil?.(),toggleCrumb:()=>window.__kmToggleCrumb?.(),fullscreenGraph:()=>n?.click(),openHelp:function e(){let t=function(){let e=document.getElementById("kb-help");if(e)return e;e=w("div",{id:"kb-help",role:"dialog","aria-modal":"true","aria-label":"Keyboard shortcuts",hidden:!0,tabIndex:"-1"});let t=w("div",{class:"panel"}),n=w("h2",{textContent:"Keyboard shortcuts"}),r=w("button",{type:"button",class:"close",title:"Close","aria-label":"Close help",textContent:"✕",onclick:()=>s.closeHelp()}),i=w("header",{},[n,r]),a=w("ul"),l=e=>`<kbd>${e}</kbd>`;for(let{desc:e,ids:t,keys:n}of[{desc:"Focus search",ids:["search-slash","search-ctrlk","search-s"]},{desc:"Toggle header (breadcrumbs)",ids:["crumb"]},{desc:"Toggle left sidebar (pages & search)",ids:["left"]},{desc:"Toggle right sidebar (graph & ToC)",ids:["right"]},{desc:"Cycle theme (light / dark)",ids:["theme"]},{desc:"Toggle fullscreen graph",ids:["graph"]},{desc:"Close panels & overlays",keys:["Esc"]},{desc:"Show this help panel",ids:["help"]}]){let r=w("li"),i=w("span",{class:"desc",textContent:e}),s="";n?s=n.map(l).join(", "):t&&(s=t.map(e=>o.find(t=>t.id===e)?.help).filter(Boolean).map(l).join(", "));let c=w("span",{innerHTML:s});r.append(i,c),a.append(r)}return t.append(i,a),e.append(t),document.body.appendChild(e),e}();window.openHelp=e,t.hidden=!1;let n=t.querySelectorAll('button, [href], [tabindex]:not([tabindex="-1"])'),r=n[0],i=n[n.length-1];t.addEventListener("keydown",e=>{"Tab"!==e.key||(e.shiftKey&&document.activeElement===r?(e.preventDefault(),i?.focus()):e.shiftKey||document.activeElement!==i||(e.preventDefault(),r?.focus()))}),(r||t).focus()},closeHelp:function(){let e=document.getElementById("kb-help");e&&(e.hidden=!0)}},o=[{id:"search-ctrlk",when:e=>a(e)&&r(e,"k"),action:"focusSearch",inEditable:!0,help:"Ctrl/Cmd + K"},{id:"search-slash",when:e=>r(e,"/")&&!e.shiftKey&&!a(e),action:"focusSearch",help:"/"},{id:"search-s",when:e=>r(e,"s")&&l(e),action:"focusSearch",help:"S"},{id:"left",when:e=>i(e,["a","q"])&&l(e),action:"toggleSidebar",help:"A or Q"},{id:"right",when:e=>r(e,"d")&&l(e),action:"toggleUtil",help:"D"},{id:"crumb",when:e=>i(e,["w","z"])&&l(e),action:"toggleCrumb",help:"W or Z"},{id:"theme",when:e=>r(e,"t")&&l(e),action:"toggleTheme",help:"T"},{id:"graph",when:e=>r(e,"g")&&l(e),action:"fullscreenGraph",help:"G"},{id:"help",when:e=>r(e,"?")||e.shiftKey&&r(e,"/"),action:"openHelp",help:"?"},{id:"escape",when:e=>r(e,"Escape"),action(e){let t=document.getElementById("kb-help");t&&!t.hidden&&(e.preventDefault(),s.closeHelp())},inEditable:!0}];addEventListener("keydown",e=>{var t;if((t=e.target)&&(t.isContentEditable||/^(INPUT|TEXTAREA|SELECT)$/i.test(t.tagName))){for(let t of o)if(t.inEditable&&t.when(e))return e.preventDefault(),void("string"==typeof t.action?s[t.action]():t.action(e))}else for(let t of o)if(t.when(e))return e.preventDefault(),void("string"==typeof t.action?s[t.action]():t.action(e))},{capture:!0})}function ct(){let e=window.matchMedia("(min-width: 1000px), (orientation: landscape)"),t=document.body;function n(e,n,r){t.classList.toggle(n,!!e),r&&r.setAttribute("aria-hidden",e?"true":"false")}window.__kmToggleSidebar=()=>n(!t.classList.contains("hide-sidebar"),"hide-sidebar",y("#sidebar")),window.__kmToggleUtil=()=>n(!t.classList.contains("hide-util"),"hide-util",y("#util")),window.__kmToggleCrumb=()=>n(!t.classList.contains("hide-crumb"),"hide-crumb",y("#crumb")),e.addEventListener("change",()=>{e.matches||(t.classList.remove("hide-sidebar","hide-util","hide-crumb"),y("#sidebar")?.setAttribute("aria-hidden","false"),y("#util")?.setAttribute("aria-hidden","false"),y("#crumb")?.setAttribute("aria-hidden","false"))})}function ke(e){let t=y("#results"),n=y("#tree"),{pages:r}=I;if(!t||!n)return;let i=(e||"").trim().toLowerCase();if(t.setAttribute("aria-live","polite"),t.setAttribute("aria-busy","true"),!i)return t.style.display="none",t.innerHTML="",n.style.display="",void t.setAttribute("aria-busy","false");let a=i.split(/\s+/).filter(e=>e.length>=2),l=a.map(e=>RegExp("\\b"+e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\b"));t.innerHTML="",t.style.display="",n.style.display="none";let s=a.length>1?i:null,o=[];for(let e of r){if(!a.every(t=>e.searchStr.includes(t)))continue;let t=0;for(let n of l)n.test(e.titleL)&&(t+=5),n.test(e.tagsL)&&(t+=3),n.test(e.bodyL)&&(t+=1);s&&(e.titleL.includes(s)?t+=5:e.bodyL.includes(s)&&(t+=2));let n=[];for(let t of e.sections){if(!a.every(e=>t.search.includes(e)))continue;let e=t.txt.toLowerCase(),r=t.body.toLowerCase(),i=0;for(let t of l)t.test(e)&&(i+=3),t.test(r)&&(i+=1);s&&(e.includes(s)||r.includes(s))&&(i+=1),n.push({sec:t,s:i})}n.sort((e,t)=>t.s-e.s),t+=Math.min(4,n.length),o.push({p:e,score:t,matchedSecs:n})}o.sort((e,t)=>t.score-e.score||je(e.p,t.p));let c=T.createDocumentFragment();for(let{p:e,matchedSecs:t}of o){let n=w("li",{class:"page-result"},[w("a",{href:"#"+_(e),textContent:e.title})]);if(t.length){let r=_(e),i=w("ul",{class:"sub-results"});t.forEach(({sec:e})=>{i.append(w("li",{class:"heading-result"},[w("a",{href:`#${r?r+"#":""}${e.id}`,textContent:e.txt})]))}),n.append(i)}c.append(n)}t.append(c),t.children.length||(t.innerHTML='<li id="no_result">No result</li>'),t.setAttribute("aria-busy","false")}var P=window.KM=window.KM||{},Le=e=>{let t;return()=>t||(t=e())};P.ensureD3=Le(async()=>{let[e,t,n]=await Promise.all([import("https://cdn.jsdelivr.net/npm/d3-selection@3.0.0/+esm"),import("https://cdn.jsdelivr.net/npm/d3-force@3.0.0/+esm"),import("https://cdn.jsdelivr.net/npm/d3-drag@3.0.0/+esm")]);P.d3={select:e.select,selectAll:e.selectAll,forceSimulation:t.forceSimulation,forceLink:t.forceLink,forceManyBody:t.forceManyBody,forceCenter:t.forceCenter,drag:n.drag}}),P.ensureHighlight=Le(async()=>{let{default:e}=await import("https://cdn.jsdelivr.net/npm/highlight.js@11.11.1/es/core/+esm");Array.isArray(X)&&X.length&&await Promise.allSettled(X.map(async t=>{try{let n=await import(`https://cdn.jsdelivr.net/npm/highlight.js@11.11.1/es/languages/${t}/+esm`);e.registerLanguage(t,n.default)}catch{}})),window.hljs=e}),P.ensureHLJSTheme=async()=>{let e={light:"https://cdn.jsdelivr.net/npm/highlight.js@11.11.1/styles/github.min.css",dark:"https://cdn.jsdelivr.net/npm/highlight.js@11.11.1/styles/github-dark.min.css"},t="dark"===T.documentElement.getAttribute("data-theme")?"dark":"light",n=T.querySelector("link[data-hljs-theme]");n||((n=T.createElement("link")).rel="stylesheet",n.setAttribute("data-hljs-theme",""),T.head.appendChild(n)),n.getAttribute("href")!==e[t]&&await new Promise(r=>{n.onload=n.onerror=r,n.href=e[t]})},P.ensureKatex=Le(async()=>{let e="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/";if(!T.getElementById("katex-css")){let t=Object.assign(T.createElement("link"),{id:"katex-css",rel:"stylesheet",href:e+"katex.min.css"});T.head.appendChild(t)}let[t,n]=await Promise.all([import(e+"katex.min.js/+esm"),import(e+"contrib/auto-render.min.js/+esm")]);window.katex=t,window.renderMathInElement=n.default});var le=null;P.ensureMarkdown=()=>{if(le)return le;function e({name:e,delimiter:t,tag:n,hint:r=t[0],notAfterOpen:i,notBeforeClose:a}){let l=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),s=RegExp(`^${l}${i?`(?!${i})`:""}(?=\\S)([\\s\\S]*?\\S)${l}${a?`(?!${a})`:""}`);return{name:e,level:"inline",start:e=>e.indexOf(r),tokenizer(t){let n=s.exec(t);if(n)return{type:e,raw:n[0],text:n[1],tokens:this.lexer.inlineTokens(n[1])}},renderer(e){return`<${n}>${this.parser.parseInline(e.tokens)}</${n}>`}}}let t={name:"mermaid",level:"block",start:e=>e.indexOf("```mermaid"),tokenizer(e){let t=/^```(?:mermaid|Mermaid)[ \t]*\n([\s\S]*?)\n```[ \t]*(?=\n|$)/.exec(e);if(t)return{type:"mermaid",raw:t[0],text:t[1]}},renderer:e=>`<div class="mermaid">${e.text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}</div>\n`},n=e({name:"mark",delimiter:"==",tag:"mark",hint:"="}),r=e({name:"sup",delimiter:"^",tag:"sup",notAfterOpen:"\\[|\\^"}),i=e({name:"sub",delimiter:"~",tag:"sub",notAfterOpen:"~",notBeforeClose:"~"}),a=e({name:"underline",delimiter:"++",tag:"u",hint:"+",notAfterOpen:"\\+",notBeforeClose:"\\+"}),l={name:"callout",level:"block",start:e=>e.indexOf(":::"),tokenizer(e){let t=/^:::(success|info|warning|danger)(?:[ \t]+([^\n]*))?[ \t]*\n([\s\S]*?)\n:::[ \t]*(?=\n|$)/.exec(e);if(!t)return;let[,n,r="",i]=t;return{type:"callout",raw:t[0],kind:n,title:r,tokens:this.lexer.blockTokens(i)}},renderer(e){return`<div class="md-callout md-${{info:"note",success:"tip",warning:"warning",danger:"caution"}[e.kind]||"note"}">\n${this.parser.parse(e.tokens)}\n</div>\n`}},s={name:"spoiler",level:"block",start:e=>e.indexOf(":::spoiler"),tokenizer(e){let t=/^:::spoiler(?:[ \t]+([^\n]*))?[ \t]*\n([\s\S]*?)\n:::[ \t]*(?=\n|$)/.exec(e);if(!t)return;let[,n="spoiler",r]=t;return{type:"spoiler",raw:t[0],title:n,titleTokens:this.lexer.inlineTokens(n),tokens:this.lexer.blockTokens(r)}},renderer(e){return`<details class="md-spoiler"><summary>${this.parser.parseInline(e.titleTokens)}</summary>\n${this.parser.parse(e.tokens)}\n</details>\n`}};return le=Promise.all([import("https://cdn.jsdelivr.net/npm/marked@16.1.2/+esm"),import("https://cdn.jsdelivr.net/npm/marked-alert@2.1.2/+esm"),import("https://cdn.jsdelivr.net/npm/marked-footnote@1.4.0/+esm"),import("https://cdn.jsdelivr.net/npm/marked-emoji@2.0.1/+esm"),import("https://cdn.jsdelivr.net/npm/emojilib@4.0.2/+esm"),import("https://cdn.jsdelivr.net/npm/mermaid@11.11.0/+esm")]).then(([e,o,c,d,u,h])=>{let p=Object.entries(u.default??u).reduce((e,[t,n])=>{if(Array.isArray(n))for(let r of n)null==e[r]&&(e[r]=t);return e},{}),m=h.default??h;m.initialize({startOnLoad:!1}),P.mermaid=m;let f=(new e.Marked).use((c.default??c)()).use((o.default??o)()).use((d.markedEmoji??d.default)({emojis:p,renderer:e=>e.emoji})).use({extensions:[t,n,r,i,a,l,s]});return{parse:(e,t)=>f.parse(e,{...t,mangle:!1}),async renderMermaidLazy(e){let t=[...(e||document).querySelectorAll(".mermaid")];if(t.length)for(let e of t)try{await n(e)}catch{}async function n(e){if("1"===e.dataset.mmdDone)return;e.dataset.mmdSrc||(e.dataset.mmdSrc=e.textContent),e.querySelector("svg")&&(e.innerHTML=e.dataset.mmdSrc),e.removeAttribute("data-processed"),e.dataset.mmdDone="1";let t,n,r,i,a=(n=new Promise(e=>t=e),(r=new MutationObserver(()=>{("true"===e.getAttribute("data-processed")||e.querySelector("svg"))&&(r.disconnect(),t())})).observe(e,{attributes:!0,childList:!0}),i=setTimeout(()=>{r.disconnect(),t()},4e3),n.finally(()=>clearTimeout(i)),n);try{await P.mermaid.run({nodes:[e]})}catch(t){throw delete e.dataset.mmdDone,t}await a}},setMermaidTheme(e){m.initialize({startOnLoad:!1,theme:e})}}})},P.syncMermaidThemeWithPage=async()=>{let e="dark"===document.documentElement.getAttribute("data-theme")?"dark":"default",{setMermaidTheme:t,renderMermaidLazy:n}=await P.ensureMarkdown();async function r(e){e&&(e.querySelectorAll(".mermaid").forEach(e=>{e.dataset.mmdSrc||(e.dataset.mmdSrc=e.textContent),e.innerHTML=e.dataset.mmdSrc,e.removeAttribute("data-processed"),delete e.dataset.mmdDone}),await n(e))}t(e),r(document.getElementById("content")),document.querySelectorAll(".km-link-preview").forEach(e=>{r(e.querySelector(":scope > div"))})};var Ee=window.KM=window.KM||{},Et=null,lt=!1;function Ct(){try{it()}catch{}if(lt)return;lt=!0;try{"scrollRestoration"in history&&(history.scrollRestoration="manual")}catch{}y("#wiki-title-text").textContent=ue,document.title=ue,st(),function(){let e=y("#theme-toggle"),t=T.documentElement,n=matchMedia("(prefers-color-scheme: dark)"),r=localStorage.getItem("km-theme"),i="dark"===Q||"light"===Q?Q:null,a=r?"dark"===r:i?"dark"===i:n.matches;function l(e){t.style.setProperty("--color-main",e?"rgb(29,29,29)":"white"),t.setAttribute("data-theme",e?"dark":"light"),Ee.ensureHLJSTheme(),Ee.syncMermaidThemeWithPage()}"string"==typeof Z&&Z&&t.style.setProperty("--color-accent",Z),l(a),e&&(e.setAttribute("aria-pressed",String(a)),e.onclick=()=>{l(a=!a),e.setAttribute("aria-pressed",String(a)),localStorage.setItem("km-theme",a?"dark":"light")}),n.addEventListener?.("change",e=>{localStorage.getItem("km-theme")||i||l(a=e.matches)}),addEventListener("storage",e=>{"km-theme"===e.key&&l(a="dark"===e.newValue)})}(),be();let e=y("#mini");e&&new IntersectionObserver((e,t)=>{e[0]?.isIntersecting&&(Xe(),t.disconnect())}).observe(e);let t=y("#mini"),n=y("#expand");n&&t&&(n.onclick=()=>{let e=t.classList.toggle("fullscreen");n.setAttribute("aria-pressed",String(e)),J(),requestAnimationFrame(()=>O(!0))}),ae(y("#content"),()=>ce(Et,"")||K()+"#");let r=y("#search"),i=y("#search-clear"),a=0;r&&i&&(r.oninput=e=>{clearTimeout(a);let t=e.target.value;i.style.display=t?"":"none",a=setTimeout(()=>ke(t),150)},i.onclick=()=>{r.value="",i.style.display="none",ke(""),r.focus()});let l=e=>{let t=y(e);if(!t)return;let n=t.classList.contains("open");B(),n||(t.classList.add("open"),t.querySelector(".panel-close")||t.append(w("button",{type:"button",class:"panel-close","aria-label":"Close panel",textContent:"✕",onclick:B})))};y("#burger-sidebar")?.addEventListener("click",()=>l("#sidebar")),y("#burger-util")?.addEventListener("click",()=>l("#util")),he(),addEventListener("resize",()=>{he(),matchMedia("(min-width:1001px)").matches&&(B(),O(!0)),y("#mini")?.classList.contains("fullscreen")&&(J(),O(!0))},{passive:!0}),y("#tree")?.addEventListener("click",e=>{let t=e.target.closest("button.caret");if(t){let e=t.closest("li.folder"),n=(e.querySelector("ul"),!e.classList.contains("open"));ve(e,n)}else e.target.closest("a")&&B()},{passive:!0}),y("#results")?.addEventListener("click",e=>{e.target.closest("a")&&B()},{passive:!0}),addEventListener("hashchange",be,{passive:!0}),addEventListener("keydown",e=>{if("Escape"!==e.key)return;let t=!1,n=y("#kb-help");n&&!n.hidden&&(n.hidden=!0,t=!0);let r=y("#sidebar")?.classList.contains("open"),i=y("#util")?.classList.contains("open");(r||i)&&(B(),t=!0);let a=y("#mini"),l=y("#expand");a&&a.classList.contains("fullscreen")&&(a.classList.remove("fullscreen"),l&&l.setAttribute("aria-pressed","false"),J(),requestAnimationFrame(()=>O(!0)),t=!0),t&&e.preventDefault()},{capture:!0}),ct(),at()}(async()=>{try{if(!V)throw Error("CONFIG.MD is empty.");let e,t=new AbortController,n=setTimeout(()=>t.abort("fetch-timeout"),2e4),r=ee>0?Se(V):null,i=r&&Date.now()-r.ts<=6e4*ee;try{if(i)e=r.txt;else{let r=await fetch(V,{cache:"no-cache",signal:t.signal});if(clearTimeout(n),!r.ok)throw Error(`Failed to fetch MD (${r.status})`);e=await r.text(),ee>0&&_e(V,e)}}catch(t){if(clearTimeout(n),!r?.txt)throw t;console.warn("Network failed; using stale cached Markdown"),e=r.txt}Re(e),De(),Be(),Ee.nav=e=>{e&&(location.hash="#"+(e.hash||""))},"loading"===T.readyState&&await new Promise(e=>T.addEventListener("DOMContentLoaded",e,{once:!0})),Ct(),await new Promise(e=>setTimeout(e,120)),O(!0)}catch(e){console.warn("Markdown load failed:",e);let t=y("#content");t&&(t.innerHTML=`<h1>Content failed to load</h1><p>Could not fetch or parse the Markdown bundle. Check <code>window.CONFIG.MD</code> and network access.</p><pre>${String(e?.message||e)}</pre>`)}})();
