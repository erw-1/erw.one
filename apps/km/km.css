:root{--bg:#1e1e1e;--bg-alt:#2a2a2a;--fg:#d4d4d4;--accent:#569cd6;}
*{box-sizing:border-box;margin:0}
body{height:100vh;display:flex;background:var(--bg);color:var(--fg);
     font-family:system-ui,Segoe UI,Roboto,sans-serif;overflow:hidden}

#sidebar{width:260px;background:var(--bg-alt);padding:.6rem .5rem;
         border-right:1px solid #444;overflow-y:auto}
#search{width:100%;padding:.35rem .6rem;margin-bottom:.5rem;border:none;
        border-radius:6px;background:#3a3a3a;color:var(--fg)}
#sidebar ul{list-style:none;margin:0}
#sidebar li{margin:.15rem 0;cursor:pointer}
#sidebar li:hover{color:var(--accent)}
.caret{display:inline-block;width:14px;margin-right:2px;cursor:pointer;transition:.2s}
.caret::before{content:"â–¸"}
.folder.open>.caret{transform:rotate(90deg)}
#sidebar ul ul{padding-left:1.1em}

main{flex:1;display:flex;flex-direction:column}
header{height:48px;background:var(--bg-alt);display:flex;align-items:center;gap:.5rem;padding:0 1rem}
header a{color:var(--fg);text-decoration:none;padding:4px 8px;border-radius:6px}
header a:hover{background:#3a3a3a}.crumb-current{background:#3a3a3a}
.separator{margin:0 .25rem}
.dropdown{position:relative}
.dropdown ul{display:none;position:absolute;top:100%;left:0;background:#3a3a3a;border-radius:4px;padding:.25rem 0}
.dropdown:hover ul{display:block}
.dropdown li{white-space:nowrap;padding:6px 12px}
.dropdown li:hover{background:var(--accent)}
.childbox{position:relative;display:inline-block}
.childbox .toggle{cursor:pointer;padding:4px;margin-left:2px}
.childbox .toggle:hover{color:var(--accent)}
.childbox ul{
  display:none;
  position:absolute;top:100%;left:0;
  min-width:160px;padding:.25rem 0;
  background:#3a3a3a;border-radius:4px;list-style:none;z-index:50;
}
.childbox:hover ul{display:block}
.childbox li{padding:6px 12px;white-space:nowrap;cursor:pointer}
.childbox li:hover{background:var(--accent)}

#content-area{flex:1;display:flex;overflow:hidden}
#content{flex:1;overflow-y:auto;padding:1rem 2rem;max-width:960px;margin:0 auto}
#content h1,#content h2,#content h3{scroll-margin-top:70px}
#prev-next{display:flex;justify-content:space-between;margin:2rem 0}
#prev-next a{background:#3a3a3a;color:var(--fg);padding:.6rem 1rem;border-radius:6px;text-decoration:none}
#prev-next a:hover{background:var(--accent)}

#util{width:300px;background:var(--bg);padding:.75rem .5rem;border-left:1px solid #444;display:flex;flex-direction:column;gap:1rem}
#graph-box{height:240px;border:1px solid #333;border-radius:8px;position:relative}
#graph-box svg{width:100%;height:100%}
#toc{flex:1;border:1px solid #333;border-radius:8px;padding:.5rem;overflow:auto}
#toc li[data-level="2"]{padding-left:14px}#toc li[data-level="3"]{padding-left:28px}
#toc a{color:var(--accent);text-decoration:none}

#modal{position:fixed;inset:0;background:rgba(0,0,0,.85);display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:.2s}
#modal.open{opacity:1;visibility:visible}
#modal .close{position:absolute;top:1rem;right:1rem;font-size:2rem;color:#fff;cursor:pointer}
#modal svg{width:80vw;height:80vh}
