
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>GeoParquet Viewer</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                margin: 20px;
            }
            #map {
                width: 100%;
                height: 500px;
                border: 1px solid #ccc;
                margin-top: 20px;
            }
        </style>
        <script src="https://unpkg.com/@carto/geoarrow"></script>
    </head>
    <body>
        <h1>GeoParquet Viewer</h1>
        <label for="dropdown">Choose a dataset:</label>
        <select id="dropdown">
            
            <option value="Couple 1" data-zone="data/couple1_zone.parquet" data-points="data/couple1_points.parquet">
                aea - aeaeaea
            </option>
            
            <option value="Couple 2" data-zone="data/couple2_zone.parquet" data-points="data/couple2_points.parquet">
                eazeae - aeezaae
            </option>
            
        </select>
        <div id="map"></div>
        <script>
            document.getElementById("dropdown").addEventListener("change", function() {
                const selectedOption = this.options[this.selectedIndex];
                const zonePath = selectedOption.dataset.zone;
                const pointsPath = selectedOption.dataset.points;

                console.log("Zone Path:", zonePath);
                console.log("Points Path:", pointsPath);

                document.getElementById("map").innerHTML = "";

                loadParquetData(zonePath, "Zone");
                loadParquetData(pointsPath, "Points");
            });

            async function loadParquetData(filePath, layerName) {
                const response = await fetch(filePath);
                const buffer = await response.arrayBuffer();
                const geoTable = await geoarrow.GeoTable.fromParquet(buffer);
                console.log(layerName, geoTable);

                // TODO: Ajouter l'affichage sur la carte
            }
        </script>
    </body>
    </html>
    